trigger:
  branches:
    include:
      - class_preparation   # Ou a branch principal do seu projeto

pool:
  vmImage: 'ubuntu-latest'  # Usando uma imagem Ubuntu para rodar os testes

variables:
  pythonVersion: '3.12.4'  # Definir a versÃ£o do Python

steps:
- task: UsePythonVersion@0
  inputs:
    versionSpec: $(pythonVersion)
    addToPath: true

- script: |
    python -m pip install --upgrade pip
    pip install -r requirements.txt
  workingDirectory: ./login-app  # ðŸ“Œ Adicionado para apontar para a pasta correta
  displayName: 'Instalar dependÃªncias'

- script: |
    pytest  # ou o comando para rodar seus testes
  workingDirectory: ./login-app  # ðŸ“Œ Adicionado para rodar os testes no diretÃ³rio correto
  displayName: 'Rodar os testes'

- task: PublishTestResults@2
  inputs:
    testResultsFormat: 'JUnit'
    testResultsFiles: '**/test-*.xml' 
    mergeTestResults: true
